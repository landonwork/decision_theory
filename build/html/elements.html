
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>An Introduction to Decision Theory &#8212; Decision Theory 12/05/2021 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Subject of Probability" href="probability.html" />
    <link rel="prev" title="Decision Theory - Course Overview" href="overview.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="An-Introduction-to-Decision-Theory">
<h1>An Introduction to Decision Theory<a class="headerlink" href="#An-Introduction-to-Decision-Theory" title="Permalink to this headline">¶</a></h1>
<p>This chapter of the course will present a practical example (math and code included) and introduce the elements of decision theory. These four/five (TODO) elements are all necessary to practice decision theory. Most should be familiar with situations where the correct choice is not known or obvious. The rational decision-maker has a number of actions they can take in a situation, and depending on what is really going on (the state of nature), the decision-maker experiences a certain amount of
gain or loss. Then they may perform experiments to further inform their decisions and devise a strategy that is optimal for them.</p>
<section id="States-of-Nature,-Experiment,-Actions,-and-Loss">
<h2>States of Nature, Experiment, Actions, and Loss<a class="headerlink" href="#States-of-Nature,-Experiment,-Actions,-and-Loss" title="Permalink to this headline">¶</a></h2>
<p>Imagine an employee who has worked at their firm under the same manager long enough to know about how long certain kinds of tasks should take and what kind of temperament their manager has. Also imagine that the firm has a rather opaque structure so that the only hint as to task’s importance is given by their manager’s interpretation of their bosses’ instructions. They have learned a happy manager equals less stress at work.</p>
<p>At the beginning of the week, the manager comes to their desk and gives the employee a new task and asks how long it will take to accomplish. The employee knows they can finish by Thursday working at a normal pace, but first asks in return how urgent the task is, knowing that their manager is a little high-strung and sometimes exaggerates deadlines. With that information, the employee then gives an estimate based on how long it should take while reassuring their manager and trying not to
overpromise. Whatever estimate they give, they will work towards earnestly.</p>
<p>We will fill in details, but this summary already includes all the elements an individual needs in order to apply decision theory.</p>
<ol class="arabic simple">
<li><p><strong>State of nature</strong>. In this case, it is “What is the actual expectation from higher management?”. The true state of nature is rarely, if ever, known at the time that a decision is made.</p></li>
<li><p><strong>Experiment</strong>. Before giving a time estimate, the employee asks about the urgency level or deadline of the assignment. The employee is doing their best to gather information about the state of nature. Is this a top priority or can it wait? Will the manager stay on top of them until it is done or will they forget about it until the deadline?</p></li>
<li><p><strong>Actions</strong>. The employee has the option to give a few different time estimates. They can give an estimate that aligns with the time needed to complete the task, or an estimate that is shorter, or an estimate that is longer.</p></li>
<li><p><strong>Loss or utility</strong>. In this situation, we can think of the amount of stress induced in the employee as an example of a loss function. The employee’s goal is to minimize the amount of stress (or loss) they experience during the week after examining all the different possible outcomes. (Loss and utility are discussed after the review of basic probability, but for now know that they are unit-less. You can think of loss and utility as costs and benefits.)</p></li>
</ol>
</section>
<section id="Making-a-Decision">
<h2>Making a Decision<a class="headerlink" href="#Making-a-Decision" title="Permalink to this headline">¶</a></h2>
<section id="Know-Your-Loss">
<h3>Know Your Loss<a class="headerlink" href="#Know-Your-Loss" title="Permalink to this headline">¶</a></h3>
<p>Taking this information, the employee can construct a table with the loss they would observe during the week based on the true state of nature and the time estimate they give to their manager. In this example, the employee prefers to give longer estimates for unimportant tasks so by the time their manager asks about them, they have finished or nearly finished the task already. For urgent tasks, they give shorter time estimates to signal to their manager that they understand the need for urgency
and to try to finish more quickly so they can have some respite at the end of the week. For more-or-less urgent tasks, they are more indifferent to the time estimate they give, but feel that the safest choice is to go with the normal time to completion.</p>
<section id="Table-1.1:-Loss-Given-State-of-Nature-and-Action-Taken">
<h4>Table 1.1: Loss Given State of Nature and Action Taken<a class="headerlink" href="#Table-1.1:-Loss-Given-State-of-Nature-and-Action-Taken" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 20%" />
<col style="width: 29%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"></th>
<th class="head"><p>Time Estimate</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Urgency Level</strong></p></td>
<td><p>Wednesday</p></td>
<td><p>Thursday</p></td>
<td><p>Friday</p></td>
</tr>
<tr class="row-odd"><td><p>Not urgent</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>Urgent</p></td>
<td><p>5</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>Critical</p></td>
<td><p>6</p></td>
<td><p>7</p></td>
<td><p>9</p></td>
</tr>
</tbody>
</table>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">loss</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Conduct-an-Experiment">
<h3>Conduct an Experiment<a class="headerlink" href="#Conduct-an-Experiment" title="Permalink to this headline">¶</a></h3>
<p>After deciding on the cost of each possible outcome, the employee attempts to reduce the amount of risk they take on by collecting information on the true state of nature. Since their manager is high-strung, they are more likely to overestimate the urgency of a task. If the task is not urgent, there is still a 50 percent probability that they will say it is <em>urgent</em> instead. If the task is urgent, there is a 50 percent probability that they will instead say it is <strong>critical</strong>. For simplicity, we
will say that the manager never mistakes a critical task for something less urgent.</p>
<section id="Table-1.2:-Conditional-Probability-of-Experiment-Outcome-Given-State-of-Nature">
<h4>Table 1.2: Conditional Probability of Experiment Outcome Given State of Nature<a class="headerlink" href="#Table-1.2:-Conditional-Probability-of-Experiment-Outcome-Given-State-of-Nature" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 20%" />
<col style="width: 31%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"></th>
<th class="head"><p>Manager’s Answer</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Urgency Level</strong></p></td>
<td><p>Not urgent</p></td>
<td><p>Urgent</p></td>
<td><p>Critical</p></td>
</tr>
<tr class="row-odd"><td><p>Not urgent</p></td>
<td><p>1/2</p></td>
<td><p>1/2</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>Urgent</p></td>
<td><p>0</p></td>
<td><p>1/2</p></td>
<td><p>1/2</p></td>
</tr>
<tr class="row-odd"><td><p>Critical</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>Notice that each row is a conditional distribution that sums to 1, the probability of a family answering a certain way given their state of nature. This is also called a “frequency of response” table</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># We call this the &quot;frequency of response table&quot;</span>
<span class="c1"># I have included a few comments to connect these table with notation</span>
<span class="c1"># used in the probability review. Here `x` is the outcome of the</span>
<span class="c1"># experiment and `theta` is the state of nature.</span>
<span class="c1"># P(x|theta)</span>
<span class="n">x_given_theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="Strategies,-Average-Losses,-and-Expected-Loss">
<h2>Strategies, Average Losses, and Expected Loss<a class="headerlink" href="#Strategies,-Average-Losses,-and-Expected-Loss" title="Permalink to this headline">¶</a></h2>
<p>The employee now has acquired information so they can determine their best action. The employee may select any action, but through experience and preference eventually they will likely settle on a specific <em>strategy</em>, or a set of actions mapped to the manager’s response.</p>
<p>In this case, there are 3 possible outcomes to the experiment and 3 possible actions to take for each outcome which leads to 9 total possible strategies. The set of strategies will be notated as <span class="math notranslate nohighlight">\(S\)</span>. If an action is notated as <span class="math notranslate nohighlight">\(a_i\)</span>, the a set will be written as <span class="math notranslate nohighlight">\(s = (a_i, a_j, a_k)\)</span>. For example, <span class="math notranslate nohighlight">\(a_0\)</span> represents the action of telling the manager to expect the task to be completed by Wednesday and <span class="math notranslate nohighlight">\(s_1 = (a_0, a_1, a_2)\)</span> is notation for Strategy 1 which is:</p>
<ul class="simple">
<li><p>When the manager responds with “not urgent”, give an estimate of Wednesday.</p></li>
<li><p>When the manager responds with “urgent”, give an estimate of Thursday.</p></li>
<li><p>When the manager responds with “critical”, give an estimate of Friday.</p></li>
</ul>
<p>In contrast, <span class="math notranslate nohighlight">\(s_2 = (a_2, a_1, a_0)\)</span> tells us that Strategy 2 is:</p>
<ul class="simple">
<li><p>When the manager responds with “not urgent”, give an estimate of Friday.</p></li>
<li><p>When the manager responds with “urgent”, give an estimate of Thursday.</p></li>
<li><p>When the manager responds with “critical”, give an estimate of Wednesday.</p></li>
</ul>
<p>We will also include a Strategy 3 <span class="math notranslate nohighlight">\(s_3 = (2,2,1)\)</span> and leave the reader to interpret the notation as practice.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">strat1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="c1"># Strategy 1 where the values represent the indices of actions</span>
<span class="n">strat2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="c1"># Strategy 2 ...</span>
<span class="n">strat3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="c1"># Strategy 3 ...</span>
</pre></div>
</div>
</div>
<p>Now we that we have rules for acting on results from an experiment, how should we decide which strategy is best?</p>
<p>A start is to compute the average loss that the employee faces from each state of nature for each of the strategies. For each state of nature and strategy, we find from Table 1.2 the probability of taking an action. (Note that we may know the true state of nature in our contrived example, but the employee will not know this until after the end of the week, if they ever find out.) For example, if the state of nature is a critical task, the manager is certain to express that the task is critical.
Then if the employee applies Strategy 1, we know that they will tell the manager it will be done by Friday. Therefore, the average loss when applying Strategy 1 when the task is critical is <span class="math notranslate nohighlight">\(100\% \cdot 9 = 9\)</span>. If the state of nature is a not-urgent task, then we are not certain how urgent the manager will say the task is. Half the time they will say it is urgent and half the time they will say it is not. So if the employee applies Strategy 1 in this case, they will say that the task will
be done by Wednesday half the time and the other half of the time they will say that the task will be done by Thursday. The average loss of this situation is then <span class="math notranslate nohighlight">\(50\% \cdot 3 + 50\% \cdot 2 = 2.5\)</span>.</p>
<p>Doing this for each state of nature and strategy gives us Table 1.3:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"></th>
<th class="head"><p>Strategies</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Urgency Level</strong></p></td>
<td><p>Strategy 1</p></td>
<td><p>Strategy 2</p></td>
<td><p>Strategy 3</p></td>
</tr>
<tr class="row-odd"><td><p>Not urgent</p></td>
<td><p>2.5</p></td>
<td><p>1.5</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>Urgent</p></td>
<td><p>3.5</p></td>
<td><p>4</p></td>
<td><p>3.5</p></td>
</tr>
<tr class="row-odd"><td><p>Critical</p></td>
<td><p>9</p></td>
<td><p>6</p></td>
<td><p>7</p></td>
</tr>
</tbody>
</table>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">avg_losses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">strats</span> <span class="o">=</span> <span class="p">[</span><span class="n">strat1</span><span class="p">,</span> <span class="n">strat2</span><span class="p">,</span> <span class="n">strat3</span><span class="p">]</span>
<span class="c1"># Apply strategies one at a time</span>
<span class="c1"># NOTE: using loops with numpy arrays is very inefficient</span>
<span class="k">for</span> <span class="n">strat</span> <span class="ow">in</span> <span class="n">strats</span><span class="p">:</span>
    <span class="c1"># e.g. when strat == strat3 == np.array([2, 2, 1]), avg_loss looks like this.</span>
    <span class="c1"># .sum(axis=1) flattens all columns into one, making it a one-dimensional array</span>
    <span class="c1">#     which numpy treats as rows</span>
    <span class="c1"># ([[0.5, 0.5, 0.0]    [[1, 1, 2] )                 [[0.5, 0.5, 0.0]</span>
    <span class="c1"># ( [0.0, 0.5, 0.5]  *  [4, 4, 3] )             ==   [0.0, 2.0, 1.5]              == [1.0, 3.5, 7.0]</span>
    <span class="c1"># ( [0.0, 0.0, 1.0]]    [9, 9, 7]]).sum(axis=1)      [0.0, 0.0, 7.0]].sum(axis=1)</span>
    <span class="n">avg_loss</span> <span class="o">=</span> <span class="p">(</span><span class="n">x_given_theta</span> <span class="o">*</span> <span class="n">loss</span><span class="p">[:,</span><span class="n">strat</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">avg_losses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">avg_loss</span><span class="p">)</span>
<span class="n">avg_losses</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">avg_losses</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">avg_losses</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[2.5, 1.5, 1. ],
       [3.5, 4. , 3.5],
       [9. , 6. , 7. ]])
</pre></div></div>
</div>
<p>Very quickly, we can see that Strategy 1 generates as much or more loss for the employee than Strategy 3 no matter the state of nature. Therefore, we can say that “<span class="math notranslate nohighlight">\(s_3\)</span> dominates <span class="math notranslate nohighlight">\(s_1\)</span>” and discard <span class="math notranslate nohighlight">\(s_1\)</span>.</p>
<p>Now let’s compare Strategies 2 and 3.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Strategies</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Urgency Level</strong></p></td>
<td><p>Strategy 2</p></td>
<td><p>Strategy 3</p></td>
</tr>
<tr class="row-odd"><td><p>Not urgent</p></td>
<td><p>1.5</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>Urgent</p></td>
<td><p>4</p></td>
<td><p>3.5</p></td>
</tr>
<tr class="row-odd"><td><p>Critical</p></td>
<td><p>6</p></td>
<td><p>7</p></td>
</tr>
</tbody>
</table>
<p>How can we choose between these? This question is rather difficult if the employee may not know the average frequency with which they are assigned tasks with a certain urgency. For instance, if the manager trusts them and often assigns them the most urgent tasks, Strategy 2 might be preferable since the loss for critical tasks is reduced using that strategy. As you can see, the frequency (or probability) of the true state of nature will have an impact on our <em>expected</em> loss. That’s right. The
expected loss is the weighted average of the weighted averages we obtained The employee might receive more non-urgent tasks while they build experience and observe expected losses like these,</p>
<div class="math notranslate nohighlight">
\[E_{loss}(s_2) = 1.5 \cdot 1/2 + 4 \cdot 1/4 + 6 \cdot 1/4 = 3.250\]</div>
<div class="math notranslate nohighlight">
\[E_{loss}(s_3) = 1 \cdot 1/2 + 3.5 \cdot 1/4 + 7 \cdot 1/4 = 3.125\]</div>
<p>so that the expected loss of Strategy 3 is less than the expected loss of Strategy 2. But maybe as the employee gains more experience, they will be handed more urgent and critical tasks, like so,</p>
<div class="math notranslate nohighlight">
\[E_{loss}(s_2) = 1.5 \cdot 1/5 + 4 \cdot 2/5 + 6 \cdot 2/5 = 4.300\]</div>
<div class="math notranslate nohighlight">
\[E_{loss}(s_3) = 1 \cdot 1/5 + 3.5 \cdot 2/5 + 7 \cdot 2/5 = 4.400\]</div>
<p>and Strategy 2 would be more attractive.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">freqs1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Strategy 2 Expected Loss: </span><span class="si">{</span><span class="p">(</span><span class="n">avg_losses</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">freqs1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="si">:</span><span class="s2"> .3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Strategy 3 Expected Loss: </span><span class="si">{</span><span class="p">(</span><span class="n">avg_losses</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">freqs1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="si">:</span><span class="s2"> .3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Strategy 2 Expected Loss:  3.250
Strategy 3 Expected Loss:  3.125
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">freqs2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">.2</span><span class="p">,</span> <span class="mf">.4</span><span class="p">,</span> <span class="mf">.4</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Strategy 2 Expected Loss: </span><span class="si">{</span><span class="p">(</span><span class="n">avg_losses</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">freqs2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="si">:</span><span class="s2"> .2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Strategy 3 Expected Loss: </span><span class="si">{</span><span class="p">(</span><span class="n">avg_losses</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">freqs2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="si">:</span><span class="s2"> .2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Strategy 2 Expected Loss:  4.30
Strategy 3 Expected Loss:  4.40
</pre></div></div>
</div>
<p>Thus, the strategy that the employee ends up selecting may depend on the frequency of their customers’ states of nature. However, in the event that they do not wish to go to all that trouble of calculating expected loss, they may also select a strategy by the minimax method. The idea of minimax is to minimize the greatest possible loss. Here, the most loss that can come from Strategy 2 is 6 and the most that can come from Strategy 3 is 7, so the minimax method would prefer Strategy 2 over
Strategy 3.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Decision Theory</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Course Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Elements of Decision Theory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#States-of-Nature,-Experiment,-Actions,-and-Loss">States of Nature, Experiment, Actions, and Loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Making-a-Decision">Making a Decision</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Strategies,-Average-Losses,-and-Expected-Loss">Strategies, Average Losses, and Expected Loss</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="probability.html">Basic Probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="utility.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="bayes.html">Bayes' Rule</a></li>
<li class="toctree-l1"><a class="reference internal" href="covid_bayes.html">Bayes' Rule Discrete Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="bayes_ts.html">Bayes' and Thompson Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="particle_ts.html">Flexible Thompson Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="particle_drift.html">Adding Drift to a Particle Filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcmc.html">Introduction to Markov Chains</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymc3.html">Introduction to PyMC3</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="overview.html" title="previous chapter">Decision Theory - Course Overview</a></li>
      <li>Next: <a href="probability.html" title="next chapter">The Subject of Probability</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Landon Work.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/elements.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>